JavaScript Viewer for ArcGIS
========

JavaScript Viewer for ArcGIS - конфигурироемое веб-приложение, предназначенное для работы с ArcGIS for Server через REST-интерфейс. 

Концепция

	Несмотря на то, что для разработки веб-приложений на платформе ArcGIS используются ArcGIS API for JavaScript, ArcGIS API for Flex и ArcGIS API for Silverlight, готовые настраиваемые веб-приложения существуют только для Flex и Silverlight. Готового настраиваемого веб-приложения на основе ArcGIs API for JavaScript не было. При этом существует возможность скачивания с сайта arcgis.com шаблона веб-приложения JavaScript, но шаблон настроен на работу с ArcGIS Online. Без программной доработки шаблона невозможно напрямую работать с веб-сервисами ArcGIS for Server, не зарегистрированными в ArcGIS Online или на Portal for ArcGIS: пользователю требуется создать карту в ArcGIS Online, и шаблон будет содержать ссылку на идентификатор этой карты в ArcGIS Online - webmapid. 

	Новый JavaScript Viewer for ArcGIS с помощью конфигурационного файла может быть настроен как на работу с веб-сервисами ArcGIS for Server напрямую (т.е. с помощью указания REST-url сервисов, как в ArcGIS Viewer for JavaScript, так и в ArcGIS Viewer for Silverlight). При этом можно указывать и идентификаторы зарегистрированных веб-сервисов в ArcGIS Online и Portal for ArcGIS. 
	
	При желании JavaScript Viewer for ArcGIS может быть самостоятельно доработан. 
	Для установки вьюера необходимо скачать исходники и разместить их на своем веб-сервере.

Структура веб-приложения         
                
	index.html - головной файл веб-приложения
	proxy.ashx - прокси-страница веб-приложения
	proxy.config - конфигурационный файл прокси-страницы
	config.xml - конфигурационный файл веб-приложения
	config_help.txt - инструкция по настройке конфигурационного файла config.xml
	readme.txt - файл справки 
	main - папка, содержащая основные рабочие файлы веб-приложения
	css - папка с файлами css для настройки стилей карты и виджетов
	images - папка с изображениями, которые используются в приложении
 
Настройка веб-приложения                       
	
	Для настройки веб-приложения необходимо отредактировать файл config.xml. Инструкция по настройке находится в файле config_help.txt.

Функциональность приложения                        
	
	Отображение базовых карт (в том числе, карт ArcGIS Online и Google Maps);
	Отображение слоев через веб-сервисы ArcGIS for Server;
	Масштабирование карты;
	Редактирование слоев;
	Идентификация объектов на карте, отображение информации по объектам, в том числе - диаграмм и изображений;
	Отображение всплывающих окон;
	Измерения по карте;
	Адресный поиск (геокодирование);
	Построение маршрутов по карте;
	Виджета выбора базовой карты;
	Список слоев и легенда;
	Виджет фильтрации объектов по дате;
	Виджет закладок;
	Виджет информации;
	Авторизация при доступе к запароленным веб-сервисам ArcGIS for Server;
	Авторизация OAuth2 для входа в ArcGIS Online / Portal for ArcGIS и последующего обращения к зарегистрированным на портале веб-сервисам. 

Работа приложения в сети Интернет и локальной сети 

	Приложение может работать как при наличии Интернет-подключения, так и без него. 
	При работе в локальной сети потребуется дополнительное скачивание и установка библиотек (см. "Использование библиотеки ArcGIS API for JavaScript" и "Использование сторонних библиотек").

Ссылки на веб-сервисы               
      
	В файле config.xml можно указывать прямые ссылки на веб-сервисы ArcGIS for Server (параметр url). 
	Для веб-сервисов, зарегистрированных в ArcGIS Online / Portal for ArcGIS можно указывать идентификаторы этих сервисов в ArcGIS Online / Portal for ArcGIS (параметр portalID). При использовании таких сервисов обязательно подключение секции <portal> в config.xml.

Использование библиотеки ArcGIS API for JavaScript 
       
	Веб-приложение ArcGIS API for JavaScript построено на библиотеке ArcGIS API for JavaScript. 
	О том, как подключить библиотеку ArcGIS API for JavaScript, можно прочесть здесь: https://developers.arcgis.com/en/javascript/jshelp/intro_accessapi.html.
	При работе в корпоративной сети без Интернет-подключения необходимо скачать библиотеку ArcGIS API for JavaScript, установить ее и дать соответствующие ссылки из файла index.html.
	Использование ArcGIS API for JavaSctipt регламентируется лицензионным соглашением: https://developers.arcgis.com/en/javascript/jshelp/terms.html.

Использование базовых карт и сервисов ArcGIS Online  
     
	Использование базовых карт и сервисов ArcGIS Online регламентируется лицензионным соглашением: http://www.esri.com/~/media/Files/Pdfs/legal/pdfs/e204_e300.pdf.
	Пункты лицензионного соглашения, касающиеся использования базовых карт и серсисов ArcGIS Online, достунпым языком изложены здесь: http://downloads2.esri.com/ArcGISOnline/docs/tou_summary.pdf.

Использование сторонних библиотек  
                   
	Веб-приложение JavaScript Viewer for ArcGIS использует стороннюю библиотеку agsjs: http://gmaps-utility-gis.googlecode.com/svn/tags/agsjs.

	Библиотека ajsjs используется для отображение виджета списка слоев и легенды (секция <toc> в config.xml) и для отображения базовой карты Google Maps и выбора базовой карты Google Maps в виджете выбора базовой карты (секция <dijit type = "basemaps">),
	Непосредственно в приложении используются следующие классы библиотеки: 
	
		agsjs.dijit.TOC для отображения виджета списка слоев и легенды;
		agsjs.layers.GoogleMapsLayer для отображения карты Google Maps и выбора их в виджете выбора базовой карты.
	
	Ссылка на библиотеку указывается в файле index.html:
	При работе в сети Интернет указывается ссылка на библиотеку agsjs  а также ссылка на стилевое описание;
	При работе в корпоративной сети без доступа к Интернет необходимо скачать библиотеку agsjs и указать соответстувующие локальные ссылки вместо Интернет-ссылок. Карты Google Maps отображаются только при наличии Интернет-подключения.

	При отображении карт Google Maps библиотека agsjs используется JavaScript API Google карт. Существуют ограничения на использование JavaScript API Google карт.

Поддерживаемые браузеры 

	Поддерживаются ровно те же браузеры, что и браузеры, поддерживаемые ArcGIS API for JavaScript.